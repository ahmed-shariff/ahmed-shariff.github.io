---
layout: post
comments: true
title: Talking with haptics
tags: ["course", "hci"]
tagline: Playing with PID controllers and haply
---

For our final lab (or fourth?) in the CanHap course, we were tasked with using haply to communicate affective meaning at a high level. For example, can someone using the haply device made to be felt calm or angry or excited. Specifically we had to communicate 3 words, I picked calm, angry, agitated. I picked these three as they fall on different quadrants of the valence-arousal space and are also resonably seperated from each other, which should allow being able to distuingish betwwen them more easily (after all we have to make this work on the haply).

![Valence-arousal-dimensional-model](/public/assets/2021-03-12/Valence-arousal-dimensional-model.png)

### Implementation
The implemntation is available in [github](https://github.com/ahmed-shariff/CanHap501_Lab_3)
- finger in flowing water
- circle size
- stationary to moving out of circle

```java
    levelAngle = 0; //random(-PI, PI);
    		
    switch (currentLevel){
    case 1:// calm
        levelProgress = millis() - levelBase;
        levelForce = 1.5 + levelProgress * 0.0002;
        fEE.add(levelForce * cos(levelAngle) , levelForce * sin(levelAngle));
        s.h_avatar.setDamping(500);
        break;
    case 2:// angry
        levelProgress = millis() - levelBase;
    
        // delayed force push
        if (levelProgress > 2000)
        {
    	levelForce = 3 + levelProgress * 0.0002;
    	fEE.add(levelForce * cos(levelAngle) , levelForce * sin(levelAngle));
        }
        break;
    case 3:// excited
        levelProgress = millis() - levelBase;
        levelForce = 1.5 + levelProgress * 0.001;
        fEE.add(levelForce * cos(levelAngle) , levelForce * sin(levelAngle));
    
        // adding noice
        levelAngle = random(-PI, PI);
        fEE.add(1.5 * cos(levelAngle) , 1.5 * sin(levelAngle));
        break;
    }
    fEE.limit(3.5);
```

<iframe width="560" height="315" src="https://www.youtube.com/embed/C_CIDn2iOYw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### User test


### Reflection
- Communicating tthrough blog?
- Difference in perception 

![image](/public/assets/2021-03-12/01_out.gif)
